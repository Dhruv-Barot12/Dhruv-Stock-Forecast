<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Paisa à¤•à¤®à¤¾à¤“</title>
  <link rel="stylesheet" href="/static/style.css">
</head>
<body>

<div class="container">
  <h1>ğŸ’° Paisa à¤•à¤®à¤¾à¤“</h1>
  <p class="subtitle">9:30 AM High-Risk Intraday Options Insight (Nifty 50)</p>

  <div class="grid">
    <div class="card">
      <h3>ğŸ“Œ Quick Actions</h3>
      <button onclick="loadSR()">ğŸ“Š Support & Resistance</button>
      <button class="green" onclick="loadTrade()">â° 9:30 Trade</button>

      <div class="meta">
        <p><b>Risk:</b> High</p>
        <p><b>Time:</b> 9:30 AM â€“ 3:00 PM</p>
        <p><b>Expiry:</b> 27 Jan 2026</p>
      </div>
    </div>

    <div class="card output" id="output">
      Click a button to generate analysis.
    </div>
  </div>

  <p class="footer">Educational purpose only. Options trading involves high risk.</p>
</div>

<script>
async function loadSR() {
  const out = document.getElementById("output");
  out.innerHTML = "Loading support & resistance...";
  const res = await fetch("/support-resistance");
  const d = await res.json();

  out.innerHTML = `
    <h3>ğŸ“Š Support & Resistance</h3>
    <p><b>Spot:</b> ${d.spot}</p>
    <p><b>Support:</b> ${d.support}</p>
    <p><b>Resistance:</b> ${d.resistance}</p>
    <p><i>${d.logic}</i></p>
  `;
}

async function loadTrade() {
  const out = document.getElementById("output");
  out.innerHTML = "Generating 9:30 tradeâ€¦";
  const res = await fetch("/nine-thirty-trade");
  const d = await res.json();

  out.innerHTML = `
    <h3>â° 9:30 Trade Report</h3>
    <p><b>Spot:</b> ${d.spot} | <b>ATM:</b> ${d.atm}</p>
    <p><b>Generated:</b> ${d.generated}</p>
    <hr>
    <pre>${d.report}</pre>
  `;
}
</script>

</body>
</html>
