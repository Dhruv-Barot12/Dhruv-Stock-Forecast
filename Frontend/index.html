<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Paisa ‡§ï‡§Æ‡§æ‡§ì</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body {
  margin: 0;
  font-family: Inter, Arial, sans-serif;
  background: linear-gradient(135deg,#eef2f7,#dfe7f1);
}
.container {
  max-width: 1100px;
  margin: auto;
  padding: 40px 20px;
}
.card {
  background: #fff;
  border-radius: 16px;
  padding: 24px;
  margin-bottom: 24px;
  box-shadow: 0 10px 30px rgba(0,0,0,.08);
}
.flex {
  display: flex;
  gap: 24px;
}
.btn {
  width: 100%;
  padding: 14px;
  font-size: 16px;
  border: none;
  border-radius: 10px;
  cursor: pointer;
  color: #fff;
}
.blue { background:#2563eb }
.green { background:#047857 }
.notice {
  background:#f1f5f9;
  padding:12px;
  border-radius:8px;
  margin-bottom:12px;
  font-size:14px;
}
.output {
  white-space: pre-wrap;
  font-size:15px;
}
</style>
</head>

<body>
<div class="container">

<div class="card">
  <h1>üí∞ Paisa ‡§ï‡§Æ‡§æ‡§ì</h1>
  <p>9:30 AM High-Risk Intraday Options Insight (Nifty 50)</p>
</div>

<div class="flex">

<div class="card" style="width:35%">
  <h3>üìå Quick Actions</h3>
  <button class="btn blue" onclick="support()">Support & Resistance</button><br><br>
  <button class="btn green" onclick="trade930()">9:30 Trade</button>

  <p><b>Risk:</b> High</p>
  <p><b>Time:</b> 9:30 AM ‚Äì 3:00 PM IST</p>
</div>

<div class="card" style="width:65%">
  <div class="notice">
    üëâ <b>English:</b> This prompt should be executed only between 9:20 AM and 9:28 AM.<br>
    üëâ <b>Hindi:</b> ‡§Ø‡§π ‡§™‡•ç‡§∞‡•â‡§Æ‡•ç‡§™‡•ç‡§ü ‡§ï‡•á‡§µ‡§≤ ‡§∏‡•Å‡§¨‡§π 9:20 ‡§¨‡§ú‡•á ‡§∏‡•á 9:28 ‡§¨‡§ú‡•á ‡§ï‡•á ‡§¨‡•Ä‡§ö ‡§π‡•Ä ‡§ö‡§≤‡§æ‡§Ø‡§æ ‡§ú‡§æ‡§®‡§æ ‡§ö‡§æ‡§π‡§ø‡§è‡•§
  </div>

  <h3>üìä Trade Output</h3>
  <div id="out" class="output">Click a button to generate report.</div>
</div>

</div>
</div>

<script>
async function support(){
  const r = await fetch('/support-resistance');
  const d = await r.json();
  out.innerText =
`Spot: ${d.spot}
Support: ${d.support}
Resistance: ${d.resistance}`;
}

async function trade930(){
  const r = await fetch('/trade-930');
  const d = await r.json();

  if(d.status === "NO TRADE"){
    out.innerText =
`NO TRADE

Generated: ${d.generated}
Weekly Expiry: ${d.weekly_expiry}
Monthly Expiry: ${d.monthly_expiry}`;
    return;
  }

  out.innerText =
`Final Decision: ${d.status}

Spot: ${d.spot}
ATM: ${d.atm}

Generated: ${d.generated}
Weekly Expiry: ${d.weekly_expiry}
Monthly Expiry: ${d.monthly_expiry}

Probabilities:
Upside: ${d.probabilities.upside}%
Downside: ${d.probabilities.downside}%
Volatile: ${d.probabilities.volatile}%

Trade:
Strike: ${d.trade.strike}
Premium: ‚Çπ${d.trade.estimated_premium}
Expected Return: ${d.trade.expected_return_pct}%
Risk: ${d.trade.risk_pct}%

${d.summary}`;
}
</script>

</body>
</html>
