<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Paisa à¤•à¤®à¤¾à¤“</title>
  <link rel="stylesheet" href="style.css">
</head>

<body>
  <div class="container">
    <h1>ğŸ’° Paisa à¤•à¤®à¤¾à¤“</h1>
    <p class="subtitle">9:30 AM High-Risk Intraday Options Insight (Nifty 50)</p>

    <div class="actions">
      <button onclick="getSR()">ğŸ“Š Support & Resistance</button>
      <button onclick="getTrade()">â° 9:30 Trade</button>
    </div>

    <div id="output" class="output">
      Click a button to get insights.
    </div>

    <p class="disclaimer">
      Educational purpose only. Options trading involves high risk.
    </p>
  </div>

<script>
async function getSR() {
  output.innerHTML = "Loading...";
  const r = await fetch("/support-resistance");
  const d = await r.json();

  output.innerHTML = `
    <h3>ğŸ“Š Support & Resistance</h3>
    <p><b>Spot:</b> ${d.spot}</p>
    <p><b>Support:</b> ${d.support}</p>
    <p><b>Resistance:</b> ${d.resistance}</p>
    <small>${d.logic}</small>
  `;
}

async function getTrade() {
  output.innerHTML = "Generating AI trade... (10â€“20 sec)";
  const r = await fetch("/generate-report");
  const d = await r.json();

  if (!d.success) {
    output.innerHTML = "AI service unavailable.";
    return;
  }

  output.innerHTML = `
    <h3>â° 9:30 Trade Report</h3>
    <p><b>Spot:</b> ${d.spot} | <b>ATM:</b> ${d.atm}</p>
    <p><b>Generated:</b> ${d.generated_at}</p>
    <hr>
    <pre>${d.report}</pre>
  `;
}
</script>

</body>
</html>
